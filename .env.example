# ============================================
# Enhanced Cloudflare Workers AI Proxy Configuration
# Copy this file to .env and fill in the values
# ============================================

# ============================================
# Application Settings
# ============================================
ENVIRONMENT=production
LOG_LEVEL=info
ENABLE_DEBUG_MODE=false

# ============================================
# Cloudflare Workers (required)
# ============================================
CLOUDFLARE_API_TOKEN=your_cloudflare_api_token
CLOUDFLARE_ACCOUNT_ID=your_account_id
WORKER_NAME=enhanced-ai-proxy

# Optional: Custom domain
CUSTOM_DOMAIN=your.custom.domain
WORKER_URL=https://your-worker.yourname.workers.dev

# ============================================
# AI Providers (at least one required)
# ============================================

# Google Gemini (recommended primary)
GEMINI_API_KEY=your_gemini_api_key

# DeepSeek (alternative provider)
DEEPSEEK_API_KEY=your_deepseek_api_key

# Groq (fast inference)
GROQ_API_KEY=your_groq_api_key

# OpenAI (optional, premium)
OPENAI_API_KEY=your_openai_api_key

# HuggingFace (optional)
HUGGINGFACE_API_KEY=your_huggingface_api_key

# OpenRouter (aggregates multiple providers)
OPENROUTER_API_KEY=your_openrouter_api_key

# ============================================
# Provider Configuration
# ============================================
DEFAULT_PROVIDER=gemini
FALLBACK_PROVIDERS=deepseek,groq,openai
PROVIDER_TIMEOUT_MS=30000
RETRY_ATTEMPTS=3

# ============================================
# Caching Configuration
# ============================================
CACHE_ENABLED=true
CACHE_SIZE=100
CACHE_TTL_SECONDS=3600
CACHE_COMPRESSION=true

# ============================================
# Rate Limiting
# ============================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000
RATE_LIMIT_BURST=10
RATE_LIMIT_ALGORITHM=token_bucket

# ============================================
# Analytics & Monitoring
# ============================================
ANALYTICS_ENABLED=true
ANALYTICS_RETENTION_DAYS=30
COLLECT_RESPONSE_TIME=true
COLLECT_ERROR_RATES=true
COLLECT_CACHE_STATS=true
COLLECT_PROVIDER_STATS=true

# ============================================
# Security & CORS
# ============================================
ENABLE_CORS=true
ALLOWED_ORIGINS=https://yourdomain.com,https://anotherdomain.com
API_KEY_AUTH_ENABLED=false
API_KEY_HEADER=X-API-Key

# ============================================
# Performance Tuning
# ============================================
MAX_MEMORY_MB=128
ENABLE_STREAMING=true
ENABLE_COMPRESSION=true
MAX_REQUEST_SIZE_KB=1024

# ============================================
# Load Balancing
# ============================================
LOAD_BALANCING_ENABLED=true
COST_OPTIMIZATION_ENABLED=true
MAX_COST_PER_REQUEST=0.01
PREFERRED_PROVIDERS=gemini,deepseek,groq

# ============================================
# Provider-Specific Settings
# ============================================

# Gemini Settings
GEMINI_MODEL=gemini-pro
GEMINI_MAX_TOKENS=4096
GEMINI_TEMPERATURE=0.7

# DeepSeek Settings
DEEPSEEK_MODEL=deepseek-chat
DEEPSEEK_MAX_TOKENS=4096
DEEPSEEK_TEMPERATURE=0.7

# Groq Settings
GROQ_MODEL=mixtral-8x7b-32768
GROQ_MAX_TOKENS=4096
GROQ_TEMPERATURE=0.7

# OpenAI Settings (if used)
OPENAI_MODEL=gpt-4
OPENAI_MAX_TOKENS=4096
OPENAI_TEMPERATURE=0.7

# ============================================
# Health Checks & Monitoring
# ============================================
HEALTH_CHECK_ENABLED=true
METRICS_ENDPOINT_ENABLED=true
PERFORMANCE_PROFILING=true
